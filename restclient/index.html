<html>
    <head>
        <link rel="stylesheet" type="text/cs" href="style.css"/>
        <script src="jquery-1.12.2.min.js"></script>
        <script>
            $(document).ready(() => {
                console.log("Jquery ready!");
                $("#button").click(() => {
                    console.log("Handling click");
                    var method = $("input[type=radio]:checked").attr("id");
            
                    var request = $.ajax({
                        url:$("#url").val(),
                        type: method,
                        contentType: "application/json"
                    });

                    request.done(function(data) {
                        console.log("Handling request (OK)");
                        console.log("Data received:");
                        var jsonString = JSON.stringify(data);
                        console.log(jsonString);
                        $("#log").html(jsonString);
                    });

                    request.always(function (jqXHR,status){
                        if(status=="error")
                            console.log("Status: "+jqXHR.status);
                    });
                    
                });
            });

        </script>
    </head>
    <body>
        <h1>JQuery REST Client</h1>
            URL: <input id="url" size="30" value="/api/v1/towns"/>
            GET <input name="method" type="radio" id="GET" checked="checked"/> &nbsp;&nbsp;
            POST <input name="method" type="radio" id="POST" /> &nbsp;&nbsp;
            PUT <input name="method" type="radio" id="PUT" /> &nbsp;&nbsp;
            DELETE <input name="method" type="radio" id="DELETE" /> &nbsp;&nbsp;
        <br/>
        Payload: <input id="payload" size="60" value='{"name":"sevilla","population":99000}'/>
        <br/><br/>
        <span id="button">Send</span>
        <br/><hr/>
        HTTP Status: <span id="status"></span> 
        <br/><hr/>
        <span id="data"></span> 
        <br/><hr/>
        <ul id="list"></ul> 
        <hr/>
        Log: <span id="log"></span>     
    </body>
</html>